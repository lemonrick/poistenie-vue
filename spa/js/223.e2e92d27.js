"use strict";(globalThis["webpackChunkpoistenie_vue"]=globalThis["webpackChunkpoistenie_vue"]||[]).push([[223],{5223:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var o=a(9835),i=a(1957),s=a(6970);const l={class:"row q-col-gutter-md"},n={class:"col-12 text-center my-div"},r={class:"col-12 col-md-6"},d={class:"row items-center justify-end"},p={class:"col-12 col-md-6"},c={class:"row items-center justify-end"},m={class:"col-12 col-md-6"},u={class:"col-12 col-md-6"},k={class:"col-12"},h={class:"my-div2"},_={class:"text-center vysledok"},y={class:"text-primary"};function b(e,t,a,b,D,f){const v=(0,o.up)("q-btn-toggle"),V=(0,o.up)("q-btn"),g=(0,o.up)("q-date"),z=(0,o.up)("q-popup-proxy"),w=(0,o.up)("q-icon"),S=(0,o.up)("q-input"),P=(0,o.up)("q-select"),M=(0,o.up)("q-form"),W=(0,o.up)("q-card-section"),Z=(0,o.up)("q-card"),B=(0,o.up)("q-page"),U=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(B,{class:"flex flex-center my-page"},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{flat:"",class:"q-pa-md my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Wm)(M,{onSubmit:(0,i.iM)(e.onSubmit,["prevent","stop"]),onReset:e.onReset,greedy:"",ref:"form"},{default:(0,o.w5)((()=>[(0,o._)("div",l,[(0,o._)("div",n,[(0,o.Wm)(v,{modelValue:e.typ,"onUpdate:modelValue":t[0]||(t[0]=t=>e.typ=t),class:"my-custom-toggle","no-caps":"",rounded:"",unelevated:"","toggle-color":"primary",color:"white","text-color":"primary",options:e.typMoznosti},null,8,["modelValue","options"])]),(0,o._)("div",r,[(0,o.Wm)(S,{"no-error-icon":"",outlined:"","hide-bottom-space":"",modelValue:e.formData.zaciatok_poistenia,"onUpdate:modelValue":t[2]||(t[2]=t=>e.formData.zaciatok_poistenia=t),label:"Začiatok poistenia *","label-color":"primary","reactive-rules":"",rules:[e=>e&&e.length>7||"",e.isValidDate,e.isValidDateStart]},{append:(0,o.w5)((()=>[(0,o.Wm)(w,{name:"event",class:"cursor-pointer"},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{modelValue:e.formData.zaciatok_poistenia,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.formData.zaciatok_poistenia=t),e.resetVysledok],"first-day-of-week":"1",locale:e.myLocale,minimal:"",mask:"D.M.YYYY"},{default:(0,o.w5)((()=>[(0,o._)("div",d,[(0,o.wy)((0,o.Wm)(V,{label:"Zavrieť",color:"primary",flat:""},null,512),[[U]])])])),_:1},8,["modelValue","locale","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,o._)("div",p,[(0,o.Wm)(S,{disable:"celorocne"===e.typ,"no-error-icon":"",outlined:"","hide-bottom-space":"",modelValue:e.koniec_poistenia,"onUpdate:modelValue":t[4]||(t[4]=t=>e.koniec_poistenia=t),label:"kratkodobe"===e.typ?"Koniec poistenia *":"Koniec poistenia","label-color":"primary","reactive-rules":"",rules:"kratkodobe"===e.typ?[e=>e&&e.length>7||"",e.isValidDate,e.isValidDateEnd]:[]},{append:(0,o.w5)((()=>[(0,o.Wm)(w,{name:"event",class:"cursor-pointer"},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{modelValue:e.koniec_poistenia,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.koniec_poistenia=t),e.resetVysledok],"first-day-of-week":"1",locale:e.myLocale,minimal:"",mask:"D.M.YYYY"},{default:(0,o.w5)((()=>[(0,o._)("div",c,[(0,o.wy)((0,o.Wm)(V,{label:"Zavrieť",color:"primary",flat:""},null,512),[[U]])])])),_:1},8,["modelValue","locale","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1},8,["disable","modelValue","label","rules"])]),(0,o._)("div",m,[(0,o.Wm)(P,{options:e.balikMoznosti,modelValue:e.formData.balik,"onUpdate:modelValue":[t[5]||(t[5]=t=>e.formData.balik=t),e.resetVysledok],"option-value":"id","option-label":"name","emit-value":"","map-options":"","hide-bottom-space":"",outlined:"","label-color":"primary",label:"Balík *",rules:[e=>void 0!==e||""],"no-error-icon":""},null,8,["options","modelValue","rules","onUpdate:modelValue"])]),(0,o._)("div",u,[(0,o.Wm)(P,{options:e.pocetOsobMoznosti,modelValue:e.formData.pocet_osob,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.formData.pocet_osob=t),e.resetVysledok],"option-value":"id","option-label":"name","emit-value":"","map-options":"","hide-bottom-space":"",outlined:"","label-color":"primary",label:"Počet osôb *",rules:[e=>void 0!==e||""],"no-error-icon":""},null,8,["options","modelValue","rules","onUpdate:modelValue"])]),(0,o._)("div",k,[(0,o.Wm)(P,{options:e.pripoisteniaMoznosti,modelValue:e.formData.pripoistenia,"onUpdate:modelValue":[t[7]||(t[7]=t=>e.formData.pripoistenia=t),e.resetVysledok],multiple:"","option-value":"id","option-label":"name","emit-value":"","map-options":"","hide-bottom-space":"",outlined:"","label-color":"primary",label:"Pripoistenia","no-error-icon":""},null,8,["options","modelValue","onUpdate:modelValue"])])]),(0,o._)("div",h,[(0,o.Wm)(V,{class:"my-btn",outline:"",size:"lg",label:"Reset",type:"reset",color:"primary"}),(0,o.Wm)(V,{size:"lg",label:"Vypočítať",type:"submit",color:"primary"})])])),_:1},8,["onSubmit","onReset"]),(0,o._)("div",_,[(0,o._)("b",y,(0,s.zw)(e.vysledok),1)])])),_:1})])),_:1})])),_:1})}const D=(0,o.aZ)({name:"IndexPage",data(){return{typ:"kratkodobe",koniec_poistenia:null,koniec_poistenia_temp:null,formData:{},myLocale:{days:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],daysShort:["Ne","Po","Ut","St","Št","Pi","So"],months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],firstDayOfWeek:1,format24h:!0,pluralDay:"dní"},typMoznosti:[{label:"Krátkodobé poistenie",value:"kratkodobe"},{label:"Celoročné poistenie",value:"celorocne"}],balikMoznosti:[{id:"zakladny",name:"základný",kratkodoba_cena:1.2,celorocna_cena:39},{id:"rozsireny",name:"rozšírený",kratkodoba_cena:1.8,celorocna_cena:49},{id:"extra",name:"extra",kratkodoba_cena:2.4,celorocna_cena:59}],pocetOsobMoznosti:[{id:1,name:1},{id:2,name:2},{id:3,name:3}],pripoisteniaMoznosti:[{id:"storno_cesty",name:"storno cesty",kratkodoba_prirazka:1.5,celorocna_prirazka:1.2},{id:"sportove_aktivity",name:"športové aktivity",kratkodoba_prirazka:1.3,celorocna_prirazka:1.1}],vysledok:""}},watch:{typ(e){"celorocne"===e?this.koniec_poistenia=null:"kratkodobe"===e&&null!==this.koniec_poistenia_temp&&(this.koniec_poistenia=this.koniec_poistenia_temp),this.vysledok="",setTimeout(this.$refs.form.resetValidation,0)},koniec_poistenia(e){null!==e&&(this.koniec_poistenia_temp=e)}},methods:{onSubmit(){if(this.vysledok="","kratkodobe"===this.typ){let e=this.numberOfDays(new Date(this.dateParser(this.formData.zaciatok_poistenia).toString()),new Date(this.dateParser(this.koniec_poistenia).toString())),t=this.balikMoznosti.filter((e=>e.id===this.formData.balik))[0].kratkodoba_cena,a=this.formData.pocet_osob,o=1;"pripoistenia"in this.formData&&this.formData.pripoistenia.includes("storno_cesty")&&(o=this.pripoisteniaMoznosti.filter((e=>"storno_cesty"===e.id))[0].kratkodoba_prirazka);let i=1;"pripoistenia"in this.formData&&this.formData.pripoistenia.includes("sportove_aktivity")&&(i=this.pripoisteniaMoznosti.filter((e=>"sportove_aktivity"===e.id))[0].kratkodoba_prirazka),this.vysledok=("Suma: "+(e*t*a*o*i).toFixed(2).toString()+" €").replaceAll(".",",")}else if("celorocne"===this.typ){let e=this.balikMoznosti.filter((e=>e.id===this.formData.balik))[0].celorocna_cena,t=this.formData.pocet_osob,a=1;"pripoistenia"in this.formData&&this.formData.pripoistenia.includes("storno_cesty")&&(a=this.pripoisteniaMoznosti.filter((e=>"storno_cesty"===e.id))[0].celorocna_prirazka);let o=1;"pripoistenia"in this.formData&&this.formData.pripoistenia.includes("sportove_aktivity")&&(o=this.pripoisteniaMoznosti.filter((e=>"sportove_aktivity"===e.id))[0].celorocna_prirazka),this.vysledok=("Suma: "+(e*t*a*o).toFixed(2).toString()+" €").replaceAll(".",",")}},onReset(){this.typ="kratkodobe",this.koniec_poistenia=null,this.koniec_poistenia_temp=null,this.formData={},this.vysledok="",setTimeout(this.$refs.form.resetValidation,0)},dateParser(e){e=e.split(".");let t=e[0].padStart(2,"0"),a=e[1].padStart(2,"0"),o=e[2];return o+"-"+a+"-"+t},isValidDate(e){const t=/^(0?[1-9]|[12][0-9]|3[01])\.(0?[1-9]|1[012])\.\d{4}$/;return t.test(e)||""},isValidDateBoolean(e){const t=/^(0?[1-9]|[12][0-9]|3[01])\.(0?[1-9]|1[012])\.\d{4}$/;return t.test(e)},isValidDateStart(e){return!("kratkodobe"===this.typ&&null!==e&&this.isValidDateBoolean(e)&&null!==this.koniec_poistenia&&this.isValidDateBoolean(this.koniec_poistenia)&&this.datesAreOnSameDay(new Date(this.dateParser(e).toString()),new Date(this.dateParser(this.koniec_poistenia).toString())))&&(!("kratkodobe"===this.typ&&null!==e&&this.isValidDateBoolean(e)&&null!==this.koniec_poistenia&&this.isValidDateBoolean(this.koniec_poistenia)&&this.secondDateIsAfter(new Date(this.dateParser(this.koniec_poistenia).toString()),new Date(this.dateParser(e).toString())))&&!("kratkodobe"===this.typ&&null!==e&&this.isValidDateBoolean(e)&&null!==this.koniec_poistenia&&this.isValidDateBoolean(this.koniec_poistenia)&&this.numberOfDays(new Date(this.dateParser(this.koniec_poistenia).toString()),new Date(this.dateParser(e).toString()))>364))},isValidDateEnd(e){return!("kratkodobe"===this.typ&&null!==e&&this.isValidDateBoolean(e)&&null!==this.formData.zaciatok_poistenia&&this.isValidDateBoolean(this.formData.zaciatok_poistenia)&&this.datesAreOnSameDay(new Date(this.dateParser(e).toString()),new Date(this.dateParser(this.formData.zaciatok_poistenia).toString())))&&(!("kratkodobe"===this.typ&&null!==e&&this.isValidDateBoolean(e)&&null!==this.formData.zaciatok_poistenia&&this.isValidDateBoolean(this.formData.zaciatok_poistenia)&&this.secondDateIsAfter(new Date(this.dateParser(e).toString()),new Date(this.dateParser(this.formData.zaciatok_poistenia).toString())))&&!("kratkodobe"===this.typ&&null!==e&&this.isValidDateBoolean(e)&&null!==this.formData.zaciatok_poistenia&&this.isValidDateBoolean(this.formData.zaciatok_poistenia)&&this.numberOfDays(new Date(this.dateParser(e).toString()),new Date(this.dateParser(this.formData.zaciatok_poistenia).toString()))>364))},datesAreOnSameDay(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},secondDateIsAfter(e,t){return t.valueOf()>e.valueOf()},numberOfDays(e,t){let a=t.getTime()-e.getTime(),o=a/864e5;return Math.abs(o)+1},resetVysledok(){this.vysledok=""}}});var f=a(1639),v=a(9885),V=a(4458),g=a(3190),z=a(8326),w=a(8983),S=a(6611),P=a(2857),M=a(2765),W=a(2535),Z=a(8879),B=a(4199),U=a(2146),O=a(9984),q=a.n(O);const x=(0,f.Z)(D,[["render",b],["__scopeId","data-v-43ad4e0a"]]),A=x;q()(D,"components",{QPage:v.Z,QCard:V.Z,QCardSection:g.Z,QForm:z.Z,QBtnToggle:w.Z,QInput:S.Z,QIcon:P.Z,QPopupProxy:M.Z,QDate:W.Z,QBtn:Z.Z,QSelect:B.Z}),q()(D,"directives",{ClosePopup:U.Z})}}]);